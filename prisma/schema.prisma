generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  user_id    BigInt    @id @default(autoincrement())
  firstname  String?   @db.VarChar
  lastname   String?   @db.VarChar
  email      String?   @unique @db.VarChar
  password   String?   @db.VarChar
  role       Role      @default(AUTOMOBILE_USER)
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  garages    garages[]
}

enum Role {
  ADMIN
  AUTOMOBILE_USER
  GARAGE_OWNER
}

model garages {
  garage_id          BigInt    @id @default(autoincrement())
  garage_name        String?   @db.VarChar
  garage_services    String?   @db.VarChar
  garage_location    String?   @db.VarChar
  garage_phone       String?   @db.VarChar
  time_open          DateTime? @db.Time()
  time_close         DateTime? @db.Time()
  garage_image       String?   @db.VarChar
  garage_description String?   @db.VarChar
  added_by           Users     @relation(fields: [garage_id], references: [user_id])
  created_at         DateTime? @default(now()) @db.Timestamptz(6)
}
